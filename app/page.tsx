"use client";
import Ask from "@/components/Ask";
import ChatSidebar from "@/components/ChatSidebar";
import Topbar from "@/components/Topbar";
import { useSession } from "next-auth/react";
import { useState } from "react";
import AvatarDropdown from "@/components/Avatar";

export default function Home() {
  const { data: session, status } = useSession();
  const [message, setMessage] = useState("");
  console.log(session, status);
  return (
    <>
      {status == "unauthenticated" ? (
        <div className="flex flex-col items-center justify-center h-screen p-4 md:p-8">
          <Topbar />
          <Ask />
        </div>
      ) : (
        <div className="flex items-center justify-center h-screen relative">
          <div className="w-[20%] fixed top-0 left-0 z-50">
            <ChatSidebar />
          </div>
          <div className="w-[20%] h-full hidden md:block"></div>
          <div className="w-[80%] flex items-center justify-center ">
            <div className="w-full sm:w-[70%] md:w-[60%] flex flex-col justify-center items-center gap-5">
              <div className="w-full relative z-10">
                <input
                  type="text"
                  value={message}
                  onChange={(e) => setMessage(e.target.value)}
                  placeholder="Message Aitalk ai"
                  className="w-full rounded-lg px-4 py-4 pr-12 text-white placeholder-gray-500 bg-black/0 border-2 border-[#2E3036]"
                />
                <button className="absolute aspect-square right-2 top-1/2 -translate-y-1/2 h-[75%] flex items-center rounded-lg justify-center text-gray-400 hover:text-white bg-[#393A40]">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    className="w-5 h-5 rotate-90"
                  >
                    <path
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      strokeWidth={2}
                      d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"
                    />
                  </svg>
                </button>
              </div>
              {/* Action Buttons */}
              <div className="flex flex-wrap justify-center gap-1 sm:gap-4 text-[0.8rem] sm:text-[1rem]">
                <button className="flex items-center gap-2 px-4 py-2 text-[#787A7E] border-2 border-[#393A40] rounded-full hover:bg-gray-800 transition-colors">
                  <svg
                    width="17"
                    height="18"
                    viewBox="0 0 17 18"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M9.50002 0C5.73002 0 2.69002 2.95 2.50002 6.66L0.580022 9.19C0.340022 9.5 0.580023 10 1.00002 10H2.50002V13C2.50002 14.11 3.39002 15 4.50002 15H5.50002V18H12.5V13.31C14.87 12.19 16.5 9.8 16.5 7C16.5 3.14 13.38 0 9.50002 0ZM10.5 11H8.50002V10H10.5V11ZM12.1 6.5C11.8337 6.94967 11.4545 7.32196 11 7.58V9H8.00002V7.58C6.57002 6.75 6.07002 4.92 6.90002 3.5C7.73002 2.08 9.57002 1.56 11 2.38C12.43 3.2 12.93 5.05 12.1 6.5Z"
                      fill="#D3830A"
                    />
                  </svg>
                  Brain Storm
                </button>
                <button className="flex items-center gap-2 px-4 py-2 text-[#787A7E] border-2 border-[#393A40] rounded-full hover:bg-gray-800 transition-colors">
                  <svg
                    width="15"
                    height="14"
                    viewBox="0 0 15 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M10.38 8.388C10.1995 8.5692 9.96775 8.69067 9.71602 8.736L6.71602 9.276C6.51901 9.31165 6.31631 9.29946 6.12498 9.24044C5.93366 9.18143 5.75931 9.07732 5.61662 8.93687C5.47392 8.79643 5.36704 8.62376 5.30499 8.4334C5.24293 8.24304 5.22751 8.04056 5.26002 7.843L5.76002 4.803C5.80246 4.54414 5.92526 4.3052 6.11102 4.12L10.25 4.8963e-07H3.00002C2.6022 4.8963e-07 2.22067 0.158036 1.93936 0.43934C1.65806 0.720645 1.50002 1.10218 1.50002 1.5V10.419L0.526024 13.342C0.497788 13.4269 0.492865 13.5179 0.51177 13.6054C0.530676 13.6928 0.572716 13.7736 0.633503 13.8393C0.69429 13.905 0.771595 13.9532 0.857349 13.9788C0.943104 14.0044 1.03416 14.0066 1.12102 13.985L5.06102 13H13C13.3978 13 13.7794 12.842 14.0607 12.5607C14.342 12.2794 14.5 11.8978 14.5 11.5V4.25L10.38 8.388ZM12.819 0.0770005C12.6354 0.000456601 12.4332 -0.0195914 12.2381 0.0194198C12.0431 0.0584309 11.8641 0.154728 11.724 0.296L6.99402 5.006L6.49402 8.046L9.49403 7.506L14.204 2.776C14.2978 2.68304 14.3721 2.57244 14.4229 2.45058C14.4737 2.32872 14.4998 2.19801 14.4998 2.066C14.4998 1.93399 14.4737 1.80328 14.4229 1.68142C14.3721 1.55956 14.2978 1.44896 14.204 1.356L13.144 0.296C13.0513 0.20192 12.9408 0.127147 12.819 0.0760005V0.0770005Z"
                      fill="#2A70F3"
                    />
                  </svg>
                  Help me write
                </button>
                <button className="flex items-center gap-2 px-4 py-2 text-[#787A7E] border-2 border-[#393A40] rounded-full hover:bg-gray-800 transition-colors">
                  <svg
                    width="15"
                    height="16"
                    viewBox="0 0 15 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.5 0.5C6 0.5 5 1.5 5 2.5C5 4 5.5 5 6 5.5V6H9V5.5C9.5 5 10 4 10 2.5C10 1.5 9 0.5 7.5 0.5ZM5.5125 2.54156L7.5 3.20312L9.4875 2.54156L8.2625 5.60313L7.7375 5.39687L8.5125 3.45937L7.5 3.79688L6.4875 3.45937L7.2625 5.39687L6.7375 5.60313L5.5125 2.54156ZM2.90937 5.0125C2.17812 5.10625 1.51562 5.96562 1.51562 7.07188C1.51562 7.68438 1.72812 8.225 2.0375 8.6L2.40937 9.04375L1.8375 9.15C1.43438 9.22812 1.14062 9.44063 0.8875 9.7875C0.634375 10.1344 0.440625 10.6156 0.30625 11.175C0.0625 12.1813 0.00625 13.4125 0 14.5H1.3375L1.4075 15.4375H4.8L4.8625 14.5H6.1375C6.1375 13.4 6.125 12.1531 5.90312 11.1344C5.77812 10.575 5.59375 10.0938 5.3375 9.75C5.08125 9.40625 4.77187 9.19375 4.31875 9.125L3.74062 9.03438L4.10625 8.575C4.40312 8.20312 4.60313 7.66875 4.60313 7.07188C4.60313 5.89062 3.86562 5.01562 3.05938 5.01562L2.90937 5.0125ZM11.7719 5.0125C11.0406 5.10625 10.3781 5.96562 10.3781 7.07188C10.3781 7.68438 10.5906 8.225 10.9 8.6L11.2719 9.04375L10.7 9.15C10.2969 9.22812 10.0031 9.44063 9.75 9.7875C9.49687 10.1344 9.30312 10.6156 9.16875 11.175C8.925 12.1813 8.86875 13.4125 8.8625 14.5H10.2L10.2688 15.4375H13.6625L13.725 14.5H15C15 13.4 14.9875 12.1531 14.7656 11.1344C14.6406 10.575 14.4563 10.0938 14.2 9.75C13.9437 9.40625 13.6344 9.19375 13.1812 9.125L12.6031 9.03438L12.9688 8.575C13.2656 8.20312 13.4656 7.66875 13.4656 7.07188C13.4656 5.89062 12.7281 5.01562 11.9219 5.01562L11.7719 5.0125ZM6 6.53125V7.09375H9V6.53125H6ZM6.5 7.59375V8.15625H8.5V7.59375H6.5Z"
                      fill="#2AFEE8"
                    />
                  </svg>
                  Get Advice
                </button>
                <button className="flex items-center gap-2 px-4 py-2 text-[#787A7E] border-2 border-[#393A40] rounded-full hover:bg-gray-800 transition-colors">
                  <svg
                    width="15"
                    height="16"
                    viewBox="0 0 15 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M7.5 0.5C6 0.5 5 1.5 5 2.5C5 4 5.5 5 6 5.5V6H9V5.5C9.5 5 10 4 10 2.5C10 1.5 9 0.5 7.5 0.5ZM5.5125 2.54156L7.5 3.20312L9.4875 2.54156L8.2625 5.60313L7.7375 5.39687L8.5125 3.45937L7.5 3.79688L6.4875 3.45937L7.2625 5.39687L6.7375 5.60313L5.5125 2.54156ZM2.90937 5.0125C2.17812 5.10625 1.51562 5.96563 1.51562 7.07188C1.51562 7.68438 1.72812 8.225 2.0375 8.6L2.40937 9.04375L1.8375 9.15C1.43438 9.22812 1.14063 9.44063 0.8875 9.7875C0.634375 10.1344 0.440625 10.6156 0.30625 11.175C0.0625 12.1813 0.00625 13.4125 0 14.5H1.3375L1.4075 15.4375H4.8L4.8625 14.5H6.1375C6.1375 13.4 6.125 12.1531 5.90312 11.1344C5.77812 10.575 5.59375 10.0938 5.3375 9.75C5.08125 9.40625 4.77187 9.19375 4.31875 9.125L3.74062 9.03438L4.10625 8.575C4.40312 8.20312 4.60313 7.66875 4.60313 7.07188C4.60313 5.89063 3.86563 5.01562 3.05938 5.01562L2.90937 5.0125ZM11.7719 5.0125C11.0406 5.10625 10.3781 5.96563 10.3781 7.07188C10.3781 7.68438 10.5906 8.225 10.9 8.6L11.2719 9.04375L10.7 9.15C10.2969 9.22812 10.0031 9.44063 9.75 9.7875C9.49687 10.1344 9.30312 10.6156 9.16875 11.175C8.925 12.1813 8.86875 13.4125 8.8625 14.5H10.2L10.2688 15.4375H13.6625L13.725 14.5H15C15 13.4 14.9875 12.1531 14.7656 11.1344C14.6406 10.575 14.4562 10.0938 14.2 9.75C13.9437 9.40625 13.6344 9.19375 13.1812 9.125L12.6031 9.03438L12.9688 8.575C13.2656 8.20312 13.4656 7.66875 13.4656 7.07188C13.4656 5.89063 12.7281 5.01562 11.9219 5.01562L11.7719 5.0125ZM6 6.53125V7.09375H9V6.53125H6ZM6.5 7.59375V8.15625H8.5V7.59375H6.5Z"
                      fill="#9043F5"
                    />
                  </svg>
                  Make a plan
                </button>
                <button className="flex items-center gap-2 px-4 py-2 text-[#787A7E] border-2 border-[#393A40] rounded-full hover:bg-gray-800 transition-colors">
                  <svg
                    width="13"
                    height="14"
                    viewBox="0 0 13 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M6.5625 9.51562C6.5625 9.58438 6.61562 9.64062 6.67969 9.64062H9.57031C9.63437 9.64062 9.6875 9.58438 9.6875 9.51562V8.76562C9.6875 8.69688 9.63437 8.64062 9.57031 8.64062H6.67969C6.61562 8.64062 6.5625 8.69688 6.5625 8.76562V9.51562ZM3.51719 9.61094L6.51719 7.09531C6.57656 7.04531 6.57656 6.95312 6.51719 6.90312L3.51719 4.38906C3.49908 4.37366 3.47693 4.36378 3.45337 4.36059C3.42981 4.35741 3.40583 4.36105 3.38428 4.37108C3.36273 4.38112 3.34451 4.39713 3.33179 4.41721C3.31906 4.43729 3.31237 4.4606 3.3125 4.48438V5.46406C3.3125 5.50156 3.32812 5.53594 3.35781 5.55937L5.07344 7L3.35781 8.44063C3.34385 8.45232 3.33257 8.46688 3.32475 8.48333C3.31693 8.49978 3.31275 8.51773 3.3125 8.53594V9.51562C3.3125 9.62187 3.43594 9.67969 3.51719 9.61094ZM12.25 0.75H0.75C0.473437 0.75 0.25 0.973437 0.25 1.25V12.75C0.25 13.0266 0.473437 13.25 0.75 13.25H12.25C12.5266 13.25 12.75 13.0266 12.75 12.75V1.25C12.75 0.973437 12.5266 0.75 12.25 0.75ZM11.625 12.125H1.375V1.875H11.625V12.125Z"
                      fill="#1BBDDD"
                    />
                  </svg>
                  Code
                </button>
                <button className="flex items-center gap-2 px-4 py-2 text-[#787A7E] border-2 border-[#393A40] rounded-full hover:bg-gray-800 transition-colors">
                  <svg
                    width="17"
                    height="16"
                    viewBox="0 0 17 16"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M2.116 16C1.65533 16 1.271 15.846 0.963 15.538C0.655 15.23 0.500667 14.8453 0.5 14.384V1.616C0.5 1.15533 0.654333 0.771 0.963 0.463C1.27167 0.155 1.656 0.000666667 2.116 0H14.885C15.345 0 15.7293 0.154333 16.038 0.463C16.3467 0.771667 16.5007 1.156 16.5 1.616V14.385C16.5 14.845 16.346 15.2293 16.038 15.538C15.73 15.8467 15.3453 16.0007 14.884 16H2.116ZM2.116 15H14.885C15.0383 15 15.1793 14.936 15.308 14.808C15.4367 14.68 15.5007 14.5387 15.5 14.384V1.616C15.5 1.462 15.436 1.32067 15.308 1.192C15.18 1.06333 15.0387 0.999333 14.884 1H2.116C1.962 1 1.82067 1.064 1.692 1.192C1.56333 1.32 1.49933 1.46133 1.5 1.616V14.385C1.5 14.5383 1.564 14.6793 1.692 14.808C1.82 14.9367 1.961 15.0007 2.115 15M4 12.5H13.154L10.327 8.73L7.712 12.038L5.962 9.923L4 12.5Z"
                      fill="#41C022"
                    />
                  </svg>
                  Imagine an image
                </button>
              </div>
            </div>
          </div>
          <div className="absolute top-5 right-5 md::top-10 md:right-10">
            <AvatarDropdown />
          </div>
        </div>
      )}
    </>
  );
}
